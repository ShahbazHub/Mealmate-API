<kt-notice [svg]="'assets/media/svg/icons/Home/Building.svg'">
  <div class="row">
    <div class="col-sm-9">
      <div class="row">
        <h5 style="margin-left: 1.05rem;">{{ restaurantName }}</h5>
      </div>
      <br />
      <div class="row">
        <div class="col-sm-4">
          <mat-icon>mail_outline</mat-icon>
          <span style="position: absolute;"> : restaurant1@restaurant.com</span>
        </div>
        <div class="col-sm-2">
          <mat-icon>account_box</mat-icon>
          <span style="position: absolute;"> : Hamza</span>
        </div>
        <div class="col-sm-6">
          <mat-icon>my_location</mat-icon>
          <span style="position: absolute;"> : Amsterdam</span>
        </div>
      </div>
      <div class="row">
        <p style="margin-left: 1.05rem;">
          <small>{{ restaurantDescription }}</small>
        </p>
      </div>
    </div>
    <!-- <div class="col-sm-3"></div>
    <div class="col-sm-3"></div> -->
    <div class="col-sm-3">
      <ng-container ktPortletTools>
        <button
          class="float-right"
          (click)="editRestaurant(1)"
          mat-raised-button
          matTooltip="Create new customer"
          color="primary"
          type="button"
        >
          <span>EDIT</span>
        </button>
        <!-- Buttons (Material Angular) | See off.documenations 'https://material.angular.io/components/button/overview' -->
        <!-- mat-raised-button | Rectangular contained button w/ elevation  -->
      </ng-container>
    </div>
  </div>
</kt-notice>

<kt-portlet>
  <!-- See prop => '../../_core/models/data-sources/_base.datasource.ts' (loading$) -->
  <kt-portlet-header [class]="'card-head-lg'">
    <!-- PORTLET LOADING | Binded to TABLE Datasource -->

    <ng-container ktPortletTitle>
      <span
        >Branches <br />
        <small>List of Available Branches in the Restaurant</small>
      </span>
      <!-- For localisations we use @ngx-translate | See off. documentations => https://github.com/ngx-translate/core -->
      <!-- Localization libraries (en/fr) are here => '../../../.././config/i18n/en.ts|fr.ts' -->
    </ng-container>

    <ng-container ktPortletTools>
      <button
        (click)="addBranch()"
        mat-raised-button
        matTooltip="Create new customer"
        color="primary"
        type="button"
      >
        <span>New Branch</span>
      </button>

      <!-- Buttons (Material Angular) | See off.documenations 'https://material.angular.io/components/button/overview' -->
      <!-- mat-raised-button | Rectangular contained button w/ elevation  -->
    </ng-container>
  </kt-portlet-header>

  <kt-portlet-body>
    <!-- <div class="row">
      <div class="col-md-8">
        <mat-radio-group aria-label="Select an option">
          <mat-radio-button value="1">Option 1</mat-radio-button>
          <mat-radio-button value="2">Option 2</mat-radio-button>
        </mat-radio-group>
      </div>
      <div class="col-md-4">
        <mat-form-field>
          <mat-label>Leave a comment</mat-label>
          <textarea matInput placeholder="Ex. It makes me feel..."></textarea>
        </mat-form-field>
      </div>
    </div> -->

    <div class="example-container mat-elevation-z0">
      <div
        class="example-loading-shade"
        *ngIf="isLoadingResults || isRateLimitReached"
      >
        <mat-spinner *ngIf="isLoadingResults"></mat-spinner>
        <div class="example-rate-limit-reached" *ngIf="isRateLimitReached">
          No Result Found
        </div>
      </div>
      <mat-table
        #TableOneSort
        [dataSource]="dataSourceOne"
        matSort
        class="example-table"
        matSortActive="created"
        matSortDisableClear
        matSortDirection="asc"
      >
        <!--- Note that these columns can be defined in any order.
        The actual rendered columns are set as a property on the row definition" -->
        <!-- Number Column -->

        <!-- Title Column -->

        <ng-container matColumnDef="name">
          <mat-header-cell *matHeaderCellDef>Name</mat-header-cell>
          <mat-cell *matCellDef="let row"
            ><a (click)="fetchRestaurantHalls()" style="color: blue;">{{
              row.name
            }}</a></mat-cell
          >
        </ng-container>
        <!-- State Column -->
        <ng-container matColumnDef="address">
          <mat-header-cell *matHeaderCellDef>Address</mat-header-cell>
          <mat-cell *matCellDef="let row">{{ row.address }}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="locations">
          <mat-header-cell *matHeaderCellDef
            >No. of Halls/Locations</mat-header-cell
          >
          <mat-cell *matCellDef="let row">{{ row.locations?.length }}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="status">
          <mat-header-cell *matHeaderCellDef mat-sort-header
            >Status</mat-header-cell
          >
          <mat-cell *matCellDef="let row">
            <span
              class="label label-lg label-light-{{
                getItemCssClassByStatus(row.status)
              }} label-inline"
              >{{ getItemStatusString(row.status) }}</span
            >
          </mat-cell>
        </ng-container>

        <!-- Created Column -->
        <ng-container matColumnDef="created">
          <mat-header-cell
            *matHeaderCellDef
            mat-sort-header
            disableClear="true"
          >
            Created
          </mat-header-cell>
          <mat-cell *matCellDef="let row">{{ row.created | date }}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="actions">
          <mat-header-cell *matHeaderCellDef>Actions</mat-header-cell>
          <mat-cell *matCellDef="let row">
            <ng-template ngxPermissionsOnly="Admin">
              <button
                mat-icon-button
                color="primary"
                matTooltip="Edit Branch"
                (click)="editBranch(row)"
              >
                <mat-icon>create</mat-icon></button
              >&nbsp;
            </ng-template>

            <ng-template ngxPermissionsOnly="Admin">
              <button
                mat-icon-button
                color="warn"
                matTooltip="Delete customer"
                type="button"
                (click)="deleteCustomer()"
              >
                <mat-icon>delete</mat-icon></button
              >&nbsp;
            </ng-template>
            <!-- <ng-template ngxPermissionsOnly="Admin">
              <button
                mat-icon-button
                color="warn"
                matTooltip="Delete customer"
                type="button"
                (click)="deleteCustomer()"
              >
                <mat-icon>my_location</mat-icon></button
              >&nbsp;
            </ng-template> -->

            <!-- <button
              mat-icon-button
              [matMenuTriggerFor]="menu"
              matTooltip="More actions"
            >
              <mat-icon>more_vert</mat-icon>
            </button> -->
            <!-- <mat-menu #menu="matMenu">
              <button mat-menu-item>
                <mat-icon>dialpad</mat-icon>
                <span>Redial</span>
              </button>
              <button mat-menu-item disabled>
                <mat-icon>voicemail</mat-icon>
                <span>Check voicemail</span>
              </button>
              <button mat-menu-item>
                <mat-icon>notifications_off</mat-icon>
                <span>Disable alerts</span>
              </button>
            </mat-menu> -->
          </mat-cell>
        </ng-container>
        <mat-header-row *matHeaderRowDef="displayedColumnsOne"></mat-header-row>
        <mat-row *matRowDef="let row; columns: displayedColumnsOne"></mat-row>
      </mat-table>
      <!-- <mat-paginator
        #TableOnePaginator="matPaginator"
        [length]="resultsLength"
        [pageSize]="30"
      >
      </mat-paginator> -->
      <!-- <mat-spinner [diameter]="20" *ngIf="true"></mat-spinner> -->
      <!-- MATERIAL PAGINATOR | Binded to dasources -->
      <!-- See off.documentations 'https://material.angular.io/components/paginator/overview' -->
      <mat-paginator
        #TableOnePaginator="matPaginator"
        [pageSize]="5"
        [pageSizeOptions]="[5, 10, 15]"
        [length]="totalCountOne"
        [showFirstLastButtons]="true"
        (page)="pageEvent = loadBranchList(restaurantId)"
      ></mat-paginator>
    </div>
  </kt-portlet-body>
</kt-portlet>
<br />
<br />
<kt-portlet>
  <!-- See prop => '../../_core/models/data-sources/_base.datasource.ts' (loading$) -->
  <kt-portlet-header [class]="'card-head-lg'">
    <!-- PORTLET LOADING | Binded to TABLE Datasource -->

    <ng-container ktPortletTitle>
      <span
        >Halls <br />
        <small>List of Halls</small>
      </span>
      <!-- For localisations we use @ngx-translate | See off. documentations => https://github.com/ngx-translate/core -->
      <!-- Localization libraries (en/fr) are here => '../../../.././config/i18n/en.ts|fr.ts' -->
    </ng-container>

    <ng-container ktPortletTools>
      <button
        (click)="addHall()"
        mat-raised-button
        matTooltip="Create new customer"
        color="primary"
        type="button"
      >
        <span>New Hall</span>
      </button>
      <!-- Buttons (Material Angular) | See off.documenations 'https://material.angular.io/components/button/overview' -->
      <!-- mat-raised-button | Rectangular contained button w/ elevation  -->
    </ng-container>
  </kt-portlet-header>

  <kt-portlet-body>
    <div *ngIf="!showHalls">
      <p>
        <ngb-alert [dismissible]="false" [type]="'info'">
          <strong>Information ! </strong> Select a Branch to View its Halls
        </ngb-alert>
      </p>
    </div>
    <div *ngIf="showHalls">
      <div class="example-container mat-elevation-z0">
        <div
          class="example-loading-shade"
          *ngIf="isLoadingResultsHalls || isRateLimitReachedHalls"
        >
          <mat-spinner *ngIf="isLoadingResultsHalls"></mat-spinner>
          <div class="example-rate-limit-reached" *ngIf="isRateLimitReached">
            No Data Found
          </div>
        </div>
        <div></div>
        <mat-table
          TableTwoSort
          [dataSource]="dataSourceTwo"
          matSort
          class="example-table"
          matSortActive="created"
          matSortDisableClear
          matSortDirection="asc"
        >
          <ng-container matColumnDef="name">
            <mat-header-cell *matHeaderCellDef>Name</mat-header-cell>
            <mat-cell *matCellDef="let row"
              ><a (click)="fetchTables()" style="color: blue;">{{
                row.name
              }}</a></mat-cell
            >
          </ng-container>

          <ng-container matColumnDef="status">
            <mat-header-cell *matHeaderCellDef mat-sort-header
              >Status</mat-header-cell
            >
            <mat-cell *matCellDef="let row">
              <span
                class="label label-lg label-light-{{
                  getItemCssClassByStatus(row.status)
                }} label-inline"
                >{{ getItemStatusString(row.status) }}</span
              >
            </mat-cell>
          </ng-container>

          <ng-container matColumnDef="created">
            <mat-header-cell
              *matHeaderCellDef
              mat-sort-header
              disableClear="true"
            >
              Created
            </mat-header-cell>
            <mat-cell *matCellDef="let row">{{
              row.created_at | date
            }}</mat-cell>
          </ng-container>
          <ng-container matColumnDef="actions">
            <mat-header-cell *matHeaderCellDef>Actions</mat-header-cell>
            <mat-cell *matCellDef="let row">
              <ng-template ngxPermissionsOnly="canDeleteECommerceData">
                <button
                  mat-icon-button
                  color="primary"
                  matTooltip="Edit Hall"
                  (click)="editHall(row)"
                >
                  <mat-icon>create</mat-icon></button
                >&nbsp;
              </ng-template>

              <ng-template ngxPermissionsOnly="canDeleteECommerceData">
                <button
                  mat-icon-button
                  color="warn"
                  matTooltip="Delete Hall"
                  type="button"
                  (click)="deleteHall()"
                >
                  <mat-icon>delete</mat-icon></button
                >&nbsp;
              </ng-template>
            </mat-cell>
          </ng-container>
          <mat-header-row
            *matHeaderRowDef="displayedColumnsTwo"
          ></mat-header-row>
          <mat-row *matRowDef="let row; columns: displayedColumnsTwo"></mat-row>
        </mat-table>
        <mat-paginator
          #TableTwoPaginator="matPaginator"
          [length]="resultsLengthHalls"
          [pageSize]="30"
        >
        </mat-paginator>
      </div>
    </div>
  </kt-portlet-body>
</kt-portlet>

<br />
<br />
<kt-portlet>
  <!-- See prop => '../../_core/models/data-sources/_base.datasource.ts' (loading$) -->
  <kt-portlet-header [class]="'card-head-lg'">
    <!-- PORTLET LOADING | Binded to TABLE Datasource -->

    <ng-container ktPortletTitle>
      <span
        >Table <br />
        <small>List of Tables</small>
      </span>
      <!-- For localisations we use @ngx-translate | See off. documentations => https://github.com/ngx-translate/core -->
      <!-- Localization libraries (en/fr) are here => '../../../.././config/i18n/en.ts|fr.ts' -->
    </ng-container>

    <ng-container ktPortletTools>
      <button
        (click)="addTable()"
        mat-raised-button
        matTooltip="Create new option"
        color="primary"
        type="button"
      >
        <span>New Table</span>
      </button>
      <!-- Buttons (Material Angular) | See off.documenations 'https://material.angular.io/components/button/overview' -->
      <!-- mat-raised-button | Rectangular contained button w/ elevation  -->
    </ng-container>
  </kt-portlet-header>

  <kt-portlet-body>
    <div *ngIf="!showTable">
      <p>
        <ngb-alert [dismissible]="false" [type]="'info'">
          <strong>Information ! </strong> Select a Hall to View its Tables
        </ngb-alert>
      </p>
    </div>
    <div *ngIf="showTable">
      <div class="example-container mat-elevation-z8">
        <div
          class="example-loading-shade"
          *ngIf="isLoadingResultsMenuItem || isRateLimitReachedMenuItem"
        >
          <mat-spinner *ngIf="isLoadingResultsMenuItem"></mat-spinner>
          <div class="example-rate-limit-reached" *ngIf="isRateLimitReached">
            No Data Found
          </div>
        </div>
        <div></div>
        <mat-table
          TableTwoSort
          [dataSource]="dataSourceThree"
          matSort
          class="example-table"
          matSortActive="created"
          matSortDisableClear
          matSortDirection="asc"
        >
          <ng-container matColumnDef="name">
            <mat-header-cell *matHeaderCellDef>Name</mat-header-cell>
            <mat-cell *matCellDef="let row">{{ row.name }}</mat-cell>
          </ng-container>

          <ng-container matColumnDef="status">
            <mat-header-cell *matHeaderCellDef mat-sort-header
              >Status</mat-header-cell
            >
            <mat-cell *matCellDef="let row">
              <span
                class="label label-lg label-light-{{
                  getItemCssClassByStatus(row.status)
                }} label-inline"
                >{{ getItemStatusString(row.status) }}</span
              >
            </mat-cell>
          </ng-container>
          <!-- <ng-container matColumnDef="price">
            <mat-header-cell *matHeaderCellDef>Price</mat-header-cell>
            <mat-cell *matCellDef="let row">{{ row.price }}</mat-cell>
          </ng-container> -->

          <ng-container matColumnDef="created">
            <mat-header-cell
              *matHeaderCellDef
              mat-sort-header
              disableClear="true"
            >
              Created
            </mat-header-cell>
            <mat-cell *matCellDef="let row">{{
              row.created_at | date
            }}</mat-cell>
          </ng-container>
          <ng-container matColumnDef="actions">
            <mat-header-cell *matHeaderCellDef>Actions</mat-header-cell>
            <mat-cell *matCellDef="let row">
              <ng-template ngxPermissionsOnly="canDeleteECommerceData">
                <button
                  mat-icon-button
                  color="primary"
                  matTooltip="Edit Table"
                  (click)="editTable(row)"
                >
                  <mat-icon>create</mat-icon></button
                >&nbsp;
              </ng-template>

              <ng-template ngxPermissionsOnly="canDeleteECommerceData">
                <button
                  mat-icon-button
                  color="warn"
                  matTooltip="Delete Table"
                  type="button"
                  (click)="deleteTable()"
                >
                  <mat-icon>delete</mat-icon></button
                >&nbsp;
              </ng-template>
            </mat-cell>
          </ng-container>
          <mat-header-row
            *matHeaderRowDef="displayedColumnsThree"
          ></mat-header-row>
          <mat-row
            *matRowDef="let row; columns: displayedColumnsThree"
          ></mat-row>
        </mat-table>
        <mat-paginator
          #TableThreePaginator="matPaginator"
          [length]="resultsLengthMenuOptions"
          [pageSize]="30"
          (page)="pageEvent = loadBranchList(restaurantId)"
        >
        </mat-paginator>
      </div>
    </div>
  </kt-portlet-body>
</kt-portlet>
