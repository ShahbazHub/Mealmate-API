<kt-portlet>
  <!-- See prop => '../../_core/models/data-sources/_base.datasource.ts' (loading$) -->
  <kt-portlet-header [class]="'card-head-lg'">
    <!-- PORTLET LOADING | Binded to TABLE Datasource -->

    <ng-container ktPortletTitle>
      <span translate="MENUS.MENU.MENU_LIST"
        >Available MENU <br />
        <small>List of Available Menus in the Restaurant</small>
      </span>
      <!-- For localisations we use @ngx-translate | See off. documentations => https://github.com/ngx-translate/core -->
      <!-- Localization libraries (en/fr) are here => '../../../.././config/i18n/en.ts|fr.ts' -->
    </ng-container>

    <ng-container ktPortletTools>
      <button
        (click)="addMenu()"
        mat-raised-button
        matTooltip="Create new customer"
        color="primary"
        type="button"
      >
        <span translate="ECOMMERCE.CUSTOMERS.BRANCH">New Menu</span>
      </button>
      <!-- Buttons (Material Angular) | See off.documenations 'https://material.angular.io/components/button/overview' -->
      <!-- mat-raised-button | Rectangular contained button w/ elevation  -->
    </ng-container>
  </kt-portlet-header>

  <kt-portlet-body>
    <div class="example-container mat-elevation-z8">
      <div
        class="example-loading-shade"
        *ngIf="isLoadingResults || isRateLimitReached"
      >
        <mat-spinner *ngIf="isLoadingResults"></mat-spinner>
        <div class="example-rate-limit-reached" *ngIf="isRateLimitReached">
          GitHub's API rate limit has been reached. It will be reset in one
          minute.
        </div>
      </div>
      <mat-table
        #TableOneSort
        [dataSource]="dataSourceOne"
        matSort
        class="example-table"
        matSortActive="created"
        matSortDisableClear
        matSortDirection="asc"
      >
        <!--- Note that these columns can be defined in any order.
        The actual rendered columns are set as a property on the row definition" -->
        <!-- Number Column -->

        <!-- Title Column -->

        <ng-container matColumnDef="title">
          <mat-header-cell *matHeaderCellDef>Title</mat-header-cell>
          <mat-cell *matCellDef="let row"
            ><a (click)="fetchMenuItems()" style="color: blue;">{{
              row.title
            }}</a></mat-cell
          >
        </ng-container>
        <!-- State Column -->
        <ng-container matColumnDef="description">
          <mat-header-cell *matHeaderCellDef>Description</mat-header-cell>
          <mat-cell *matCellDef="let row">{{ row.description }}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="time">
          <mat-header-cell *matHeaderCellDef>Time</mat-header-cell>
          <mat-cell *matCellDef="let row">{{ row.time }}</mat-cell>
        </ng-container>

        <!-- Created Column -->
        <ng-container matColumnDef="created">
          <mat-header-cell
            *matHeaderCellDef
            mat-sort-header
            disableClear="true"
          >
            Created
          </mat-header-cell>
          <mat-cell *matCellDef="let row">{{ row.created_at | date }}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="actions">
          <mat-header-cell *matHeaderCellDef>Actions</mat-header-cell>
          <mat-cell *matCellDef="let row">
            <ng-template ngxPermissionsOnly="canDeleteECommerceData">
              <button
                mat-icon-button
                color="primary"
                matTooltip="Edit Menu"
                (click)="editMenu(row)"
              >
                <mat-icon>create</mat-icon></button
              >&nbsp;
            </ng-template>

            <ng-template ngxPermissionsOnly="canDeleteECommerceData">
              <button
                mat-icon-button
                color="warn"
                matTooltip="Delete customer"
                type="button"
                (click)="deleteCustomer()"
              >
                <mat-icon>delete</mat-icon></button
              >&nbsp;
            </ng-template>

            <!-- <button
              mat-icon-button
              [matMenuTriggerFor]="menu"
              matTooltip="More actions"
            >
              <mat-icon>more_vert</mat-icon>
            </button> -->
            <!-- <mat-menu #menu="matMenu">
              <button mat-menu-item>
                <mat-icon>dialpad</mat-icon>
                <span>Redial</span>
              </button>
              <button mat-menu-item disabled>
                <mat-icon>voicemail</mat-icon>
                <span>Check voicemail</span>
              </button>
              <button mat-menu-item>
                <mat-icon>notifications_off</mat-icon>
                <span>Disable alerts</span>
              </button>
            </mat-menu> -->
          </mat-cell>
        </ng-container>
        <mat-header-row *matHeaderRowDef="displayedColumnsOne"></mat-header-row>
        <mat-row *matRowDef="let row; columns: displayedColumnsOne"></mat-row>
      </mat-table>
      <mat-paginator
        #TableOnePaginator="matPaginator"
        [length]="resultsLength"
        [pageSize]="30"
      >
      </mat-paginator>
    </div>
  </kt-portlet-body>
</kt-portlet>
<br />
<br />
<kt-portlet>
  <!-- See prop => '../../_core/models/data-sources/_base.datasource.ts' (loading$) -->
  <kt-portlet-header [class]="'card-head-lg'">
    <!-- PORTLET LOADING | Binded to TABLE Datasource -->

    <ng-container ktPortletTitle>
      <span
        >MENU Items <br />
        <small>List of Menu Items</small>
      </span>
      <!-- For localisations we use @ngx-translate | See off. documentations => https://github.com/ngx-translate/core -->
      <!-- Localization libraries (en/fr) are here => '../../../.././config/i18n/en.ts|fr.ts' -->
    </ng-container>

    <ng-container ktPortletTools>
      <button
        (click)="addMenu()"
        mat-raised-button
        matTooltip="Create new customer"
        color="primary"
        type="button"
      >
        <span>New Menu Item</span>
      </button>
      <!-- Buttons (Material Angular) | See off.documenations 'https://material.angular.io/components/button/overview' -->
      <!-- mat-raised-button | Rectangular contained button w/ elevation  -->
    </ng-container>
  </kt-portlet-header>

  <kt-portlet-body>
    <div *ngIf="!showMenuItem">
      <p>
        <ngb-alert [dismissible]="false" [type]="'info'">
          <strong>Information ! </strong> Select a Menu to View its Menu Items
        </ngb-alert>
      </p>
    </div>
    <div *ngIf="showMenuItem">
      <div class="example-container mat-elevation-z8">
        <div
          class="example-loading-shade"
          *ngIf="isLoadingResultsMenuItem || isRateLimitReachedMenuItem"
        >
          <mat-spinner *ngIf="isLoadingResultsMenuItem"></mat-spinner>
          <div class="example-rate-limit-reached" *ngIf="isRateLimitReached">
            No Data Found
          </div>
        </div>
        <div></div>
        <mat-table
          TableTwoSort
          [dataSource]="dataSourceTwo"
          matSort
          class="example-table"
          matSortActive="created"
          matSortDisableClear
          matSortDirection="asc"
        >
          <ng-container matColumnDef="name">
            <mat-header-cell *matHeaderCellDef>Name</mat-header-cell>
            <mat-cell *matCellDef="let row"
              ><a (click)="fetchMenuOptions()" style="color: blue;">{{
                row.name
              }}</a></mat-cell
            >
          </ng-container>

          <ng-container matColumnDef="description">
            <mat-header-cell *matHeaderCellDef>Description</mat-header-cell>
            <mat-cell *matCellDef="let row">{{ row.description }}</mat-cell>
          </ng-container>
          <ng-container matColumnDef="price">
            <mat-header-cell *matHeaderCellDef>Price</mat-header-cell>
            <mat-cell *matCellDef="let row">{{ row.price }}</mat-cell>
          </ng-container>

          <ng-container matColumnDef="created">
            <mat-header-cell
              *matHeaderCellDef
              mat-sort-header
              disableClear="true"
            >
              Created
            </mat-header-cell>
            <mat-cell *matCellDef="let row">{{
              row.created_at | date
            }}</mat-cell>
          </ng-container>
          <ng-container matColumnDef="actions">
            <mat-header-cell *matHeaderCellDef>Actions</mat-header-cell>
            <mat-cell *matCellDef="let row">
              <ng-template ngxPermissionsOnly="canDeleteECommerceData">
                <button
                  mat-icon-button
                  color="primary"
                  matTooltip="Edit Menu Item"
                  (click)="editMenuItem(row)"
                >
                  <mat-icon>create</mat-icon></button
                >&nbsp;
              </ng-template>

              <ng-template ngxPermissionsOnly="canDeleteECommerceData">
                <button
                  mat-icon-button
                  color="warn"
                  matTooltip="Delete Menu Item"
                  type="button"
                  (click)="deleteMenuItem()"
                >
                  <mat-icon>delete</mat-icon></button
                >&nbsp;
              </ng-template>
            </mat-cell>
          </ng-container>
          <mat-header-row
            *matHeaderRowDef="displayedColumnsTwo"
          ></mat-header-row>
          <mat-row *matRowDef="let row; columns: displayedColumnsTwo"></mat-row>
        </mat-table>
        <mat-paginator
          #TableTwoPaginator="matPaginator"
          [length]="resultsLengthMenuItem"
          [pageSize]="30"
        >
        </mat-paginator>
      </div>
    </div>
  </kt-portlet-body>
</kt-portlet>

<br />
<br />
<kt-portlet>
  <!-- See prop => '../../_core/models/data-sources/_base.datasource.ts' (loading$) -->
  <kt-portlet-header [class]="'card-head-lg'">
    <!-- PORTLET LOADING | Binded to TABLE Datasource -->

    <ng-container ktPortletTitle>
      <span
        >MENU Options <br />
        <small>List of Menu Options</small>
      </span>
      <!-- For localisations we use @ngx-translate | See off. documentations => https://github.com/ngx-translate/core -->
      <!-- Localization libraries (en/fr) are here => '../../../.././config/i18n/en.ts|fr.ts' -->
    </ng-container>

    <ng-container ktPortletTools>
      <button
        (click)="addMenuOption()"
        mat-raised-button
        matTooltip="Create new option"
        color="primary"
        type="button"
      >
        <span>New Menu Option</span>
      </button>
      <!-- Buttons (Material Angular) | See off.documenations 'https://material.angular.io/components/button/overview' -->
      <!-- mat-raised-button | Rectangular contained button w/ elevation  -->
    </ng-container>
  </kt-portlet-header>

  <kt-portlet-body>
    <div *ngIf="!showMenuOption">
      <p>
        <ngb-alert [dismissible]="false" [type]="'info'">
          <strong>Information ! </strong> Select a Menu Item to View its Menu
          Options
        </ngb-alert>
      </p>
    </div>
    <div *ngIf="showMenuOption">
      <div class="example-container mat-elevation-z8">
        <div
          class="example-loading-shade"
          *ngIf="isLoadingResultsMenuItem || isRateLimitReachedMenuItem"
        >
          <mat-spinner *ngIf="isLoadingResultsMenuItem"></mat-spinner>
          <div class="example-rate-limit-reached" *ngIf="isRateLimitReached">
            No Data Found
          </div>
        </div>
        <div></div>
        <mat-table
          TableTwoSort
          [dataSource]="dataSourceThree"
          matSort
          class="example-table"
          matSortActive="created"
          matSortDisableClear
          matSortDirection="asc"
        >
          <ng-container matColumnDef="optionname">
            <mat-header-cell *matHeaderCellDef>Option Name</mat-header-cell>
            <mat-cell *matCellDef="let row">{{ row.optionname }}</mat-cell>
          </ng-container>

          <ng-container matColumnDef="quantity">
            <mat-header-cell *matHeaderCellDef>Quantity</mat-header-cell>
            <mat-cell *matCellDef="let row">{{ row.quantity }}</mat-cell>
          </ng-container>
          <ng-container matColumnDef="price">
            <mat-header-cell *matHeaderCellDef>Price</mat-header-cell>
            <mat-cell *matCellDef="let row">{{ row.price }}</mat-cell>
          </ng-container>

          <ng-container matColumnDef="created">
            <mat-header-cell
              *matHeaderCellDef
              mat-sort-header
              disableClear="true"
            >
              Created
            </mat-header-cell>
            <mat-cell *matCellDef="let row">{{
              row.created_at | date
            }}</mat-cell>
          </ng-container>
          <ng-container matColumnDef="actions">
            <mat-header-cell *matHeaderCellDef>Actions</mat-header-cell>
            <mat-cell *matCellDef="let row">
              <ng-template ngxPermissionsOnly="canDeleteECommerceData">
                <button
                  mat-icon-button
                  color="primary"
                  matTooltip="Edit Menu Option"
                  (click)="editMenuOption(row)"
                >
                  <mat-icon>create</mat-icon></button
                >&nbsp;
              </ng-template>

              <ng-template ngxPermissionsOnly="canDeleteECommerceData">
                <button
                  mat-icon-button
                  color="warn"
                  matTooltip="Delete Menu Option"
                  type="button"
                  (click)="deleteMenuOption()"
                >
                  <mat-icon>delete</mat-icon></button
                >&nbsp;
              </ng-template>
            </mat-cell>
          </ng-container>
          <mat-header-row
            *matHeaderRowDef="displayedColumnsThree"
          ></mat-header-row>
          <mat-row
            *matRowDef="let row; columns: displayedColumnsThree"
          ></mat-row>
        </mat-table>
        <mat-paginator
          #TableThreePaginator="matPaginator"
          [length]="resultsLengthMenuOptions"
          [pageSize]="30"
        >
        </mat-paginator>
      </div>
    </div>
  </kt-portlet-body>
</kt-portlet>
